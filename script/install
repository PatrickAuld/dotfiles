#!/usr/bin/env bash
#
# Run all dotfiles installers.
#
# Each subdirectory is responsible for detecting the current OS and either
# installing what it can or gracefully skipping.

set -euo pipefail

cd "$(dirname "$0")/.."
DOTFILES_ROOT=$(pwd -P)

# shellcheck source=script/util.sh
source "$DOTFILES_ROOT/script/util.sh"

# Run every installer; OS-specific installers should call require_darwin/require_linux.
find . -name install.sh | while read -r installer; do
  "$installer"
done
